(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2623:function(e,t,s){Promise.resolve().then(s.bind(s,1462))},1462:function(e,t,s){"use strict";s.d(t,{default:function(){return C}});var r=s(7437),n=s(2265),a=s(6164);function l(e){let{id:t,className:s,children:n}=e;return(0,r.jsx)("h1",{id:t,className:(0,a.m6)("font-sora text-4xl",s),children:n})}var c=s(9824),o=s(3781),i=s(3579),u=s(357);let d=new i.No;new i.ZP(u.env.DB_URL,d);let m=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),x=e=>m.format(e);function f(e,t){let s=new Map;return e.forEach(e=>{let r=t(e),n=s.get(r);n?n.push(e):s.set(r,[e])}),s}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=[];for(let r=0;r<Math.ceil(e.length/t);r++)s.push([]);return e.forEach((e,r)=>{s[Math.floor(r/t)].push(e)}),s}function j(e){let{data:t,hover:s,className:n,onClick:l,currencyColumns:c}=e,o=Object.entries(t),i=o.length,u=(null==t?void 0:t.year)?"/?year=".concat(t.year):"#";return(0,r.jsx)("a",{className:(0,a.m6)(s?"hover-touchable":"","row","#"===u?"pointer-events-none cursor-default":"",n),onClick:l,target:"_self",children:o.map((e,t)=>{let[s,n]=e;return(0,r.jsx)("div",{className:(0,a.m6)("inline-flex items-center justify-between gap-2 text-wrap px-4","basis-1/".concat(i)),children:-1!==c.indexOf(s)?x(n):n},t)})})}let b={Ascending:c.Vmf,Descending:c.OId,NotSorted:o.pZ2};function g(e){let{summaries:t,setYear:s}=e,[a,l]=(0,n.useState)(null),c=(0,n.useRef)(t),o=e=>{l(e),c.current=t.sort((t,s)=>t[e]-s[e])};return(0,r.jsxs)("div",{className:"index-table",children:[(0,r.jsx)(function(){let e=e=>e===a?(0,r.jsx)(b.Descending,{}):(0,r.jsx)(b.NotSorted,{});return(0,r.jsx)("div",{className:"row p-2",children:[{text:"Year",column:"year"},{text:"Total jobs for the year",column:"year_job_count"},{text:"Average salary in USD",column:"average_salary_usd"}].map((t,s)=>(0,r.jsxs)("div",{className:"header",onClick:()=>o(t.column),children:[t.text,(0,r.jsx)("span",{children:e(t.column)})]},s))})},{}),c.current.map((e,t)=>(0,r.jsx)(j,{data:{year:e.year,year_job_count:e.year_job_count,average_salary_usd:e.average_salary_usd},currencyColumns:["average_salary_usd"],className:t%2==0?"bg-slate-500/35 hover:bg-black/80":"",onClick:()=>s(t=>e.year.toString()),hover:!0},t))]})}function v(e){let{summaries:t,setYear:s}=e;return(0,r.jsxs)("div",{className:"glass md:m-6 md:basis-1/2",children:[(0,r.jsx)(l,{className:"table-heading text-2xl",children:"Main Table"}),(0,r.jsx)(g,{summaries:t,setYear:s})]})}let y={Ascending:c.Vmf,Descending:c.OId,NotSorted:o.pZ2};function p(e){let{jobs:t,year:s}=e,a=(0,n.useRef)([]),c=(0,n.useRef)([]),o=(0,n.useMemo)(()=>(a.current=function(e,t){if(!t)return[];let s=f(e,e=>e.work_year),r=[],n=s.get(t);return n&&f(n,e=>e.job_title).forEach((e,s,n)=>{r.push({year:parseInt(t),job_title:s,job_count:e.length})}),r}(t,s),c.current=h(a.current).slice(0,1),a.current),[s,t]);console.log(a.current);let[i,u]=(0,n.useState)(1),[d,m]=(0,n.useState)(null),x=e=>{c.current=h(a.current).slice(0,e)},j=e=>{m(e),a.current=o.sort((t,s)=>t[e]===s[e]?0:t[e]<s[e]?-1:1)};return s&&0!==s.length?(0,r.jsxs)("div",{className:"index-table",children:[(0,r.jsx)(function(){let e=e=>e===d?(0,r.jsx)(y.Descending,{}):(0,r.jsx)(y.NotSorted,{});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l,{className:"p-3 text-center font-inter text-lg font-medium",children:["Year: ",s]}),(0,r.jsx)("div",{className:"row",children:[{text:"Aggregated Job Titles",column:"job_title"},{text:"Total jobs for the year",column:"job_count"}].map((t,s)=>(0,r.jsxs)("div",{className:"header",onClick:()=>j(t.column),children:[t.text,(0,r.jsx)("span",{children:e(t.column)})]},s))})]})},{}),c.current.map((e,t)=>(0,r.jsxs)("div",{className:"flex flex-row items-stretch justify-between",children:[(0,r.jsx)(N,{pages:e.slice(0,e.length/2)}),(0,r.jsx)(N,{pages:e.slice(e.length/2)})]},t)),i<=Math.ceil(a.current.length/10)&&(0,r.jsx)("div",{className:"mx-auto my-auto w-1/2",children:(0,r.jsx)("button",{onClick:()=>{x(i+1),u(e=>++e)},className:"bg-lime/60 hover:bg-lime my-3 w-full rounded-md p-2 text-base capitalize text-black/60 hover:text-white",children:"Show More"})})]}):(0,r.jsx)("div",{className:"index-table",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("p",{className:"w-full grow text-center text-white/75",children:"Click on your favorite row of data to show more results!"})})})}function N(e){let{pages:t}=e;return(0,r.jsx)("div",{className:"basis-1/2",children:(0,r.jsx)("div",{children:t.map((e,t)=>(0,r.jsx)(j,{data:{job_title:e.job_title,job_count:e.job_count},currencyColumns:[],className:(0,a.m6)(t%2==0?"bg-slate-500/35 hover:bg-black/50":"","min-h-28")},t))})})}function _(e){let{jobs:t,year:s}=e;return(0,r.jsxs)("div",{className:"glass",children:[(0,r.jsx)(l,{className:"table-heading text-2xl",children:"Aggregate table"}),(0,r.jsx)(p,{jobs:t,year:s})]})}var w=s(7818);s(433);let k=(0,w.default)(()=>s.e(346).then(s.bind(s,7346)).then(e=>e.Line),{loadableGenerated:{webpack:()=>[null]},ssr:!1});function S(e){let{summaries:t}=e,s=(0,n.useMemo)(()=>({labels:t.map((e,t)=>e.year.toString()),datasets:[{label:"Salary Trend in USD",data:t.map((e,t)=>e.average_salary_usd),fill:!1,borderColor:"rgb(75, 192, 192)"}]}),[t]);return 0===Object.entries(s).length?(0,r.jsx)("div",{className:"font-sora text-4xl",children:"Loading..."}):(0,r.jsxs)("div",{className:"glass flex flex-col justify-around p-4 md:m-6 md:basis-1/2",children:[(0,r.jsx)(l,{className:"text-2xl font-semibold capitalize md:text-4xl",children:"The trends we see:"}),s?(0,r.jsx)(k,{data:s,options:{plugins:{legend:{labels:{color:"#ffffffbd"}}},scales:{y:{ticks:{color:"#ffffffbd"}},x:{ticks:{color:"#ffffffbd"}}}},className:"self-end"}):(0,r.jsx)("div",{className:"font-sora text-4xl",children:"Loading..."})]})}function C(e){let{jobs:t,summaries:s}=e,[a,l]=(0,n.useState)("");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col-reverse items-stretch justify-between gap-6 md:flex-row md:gap-0",children:[(0,r.jsx)(v,{summaries:s,setYear:l}),(0,r.jsx)(S,{summaries:s.sort((e,t)=>e.year-t.year)})]}),(0,r.jsx)("div",{className:"mx-auto my-8",children:(0,r.jsx)(_,{year:a,jobs:t})})]})}}},function(e){e.O(0,[452,779,674,11,971,23,744],function(){return e(e.s=2623)}),_N_E=e.O()}]);